{"version":3,"sources":["scripts/focuspoint-helper.js","dist/scripts/ptypeUtilities.min.js"],"names":["$","document","ready","setImage","imgURL","attr","on","focusPointAttr","w","this","width","h","height","$helperToolImage","$focusPointImages","$focusPointContainers","data-focus-x","x","data-focus-y","y","data-image-w","data-image-h","data","focusPoint","printDataAttr","$dataAttrInput","val","toFixed","defaultImage","$cssAttrInput","i","append","click","e","imageW","imageH","offsetX","pageX","offset","left","offsetY","pageY","top","focusX","focusY","adjustFocus","percentageX","percentageY","css","element","setTimeout","jQuery","t","a","u","r","f","c","o","s","n","d"],"mappings":"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","file":"../ptypeUtilities.min.js","sourcesContent":["// Gets focus point coordinates from an image - adapt to suit your needs.\r\n\r\n(function($) {\r\n\t$(document).ready(function() {\r\n\r\n\t\tvar defaultImage;\r\n\t\tvar $dataAttrInput;\r\n\t\tvar $cssAttrInput;\r\n\t\tvar $focusPointContainers;\r\n\t\tvar $focusPointImages;\r\n\t\tvar $helperToolImage;\r\n\r\n\t\t//This stores focusPoint's data-attribute values\r\n\t\tvar focusPointAttr = {\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\tw: 0,\r\n\t\t\t\th: 0\r\n\t\t\t};\r\n\r\n\t\t//Initialize Helper Tool\r\n\t\t(function() {\r\n\r\n\t\t\t//Initialize Variables\r\n\t\t\tdefaultImage = 'src/prototype-utilities/images/focuspoint-helper/default.jpg';\r\n\t\t\t$dataAttrInput = $('.helper-tool-data-attr');\r\n\t\t\t$cssAttrInput = $('.helper-tool-css3-val');\r\n\t\t\t$helperToolImage = $('img.helper-tool-img, img.target-overlay');\r\n\r\n\t\t\t//Create Grid Elements\r\n\t\t\tfor(var i = 1; i < 10; i++) {\r\n\t\t\t\t$('#Frames').append('<div id=\"Frame'+i+'\" class=\"focuspoint\"><img/></div>');\r\n\t\t\t}\r\n\t\t\t//Store focus point containers\r\n\t\t\t$focusPointContainers = $('.focuspoint');\r\n\t\t\t$focusPointImages = $('.focuspoint img');\r\n\r\n\t\t\t//Set the default source image\r\n\t\t\tsetImage( defaultImage );\r\n\r\n\t\t})();\r\n\r\n\t\t/*-----------------------------------------*/\r\n\r\n\t\t// function setImage(<URL>)\r\n\t\t// Set a new image to use in the demo, requires URI to an image\r\n\r\n\t\t/*-----------------------------------------*/\r\n\r\n\t\tfunction setImage(imgURL) {\r\n\t\t\t//Get the dimensions of the image by referencing an image stored in memory\r\n\t\t\t$(\"<img/>\")\r\n\t\t\t\t.attr(\"src\", imgURL)\r\n\t\t\t\t.on('load',function() {\r\n\t\t\t\t\tfocusPointAttr.w = this.width;\r\n\t\t\t\t\tfocusPointAttr.h = this.height;\r\n\r\n\t\t\t\t\t//Set src on the thumbnail used in the GUI\r\n\t\t\t\t\t$helperToolImage.attr('src', imgURL);\r\n\r\n\t\t\t\t\t//Set src on all .focuspoint images\r\n\t\t\t\t\t$focusPointImages.attr('src', imgURL);\r\n\r\n\t\t\t\t\t//Set up initial properties of .focuspoint containers\r\n\r\n\t\t\t\t\t/*-----------------------------------------*/\r\n\t\t\t\t\t// Note ---\r\n\t\t\t\t\t// Setting these up with attr doesn't really make a difference\r\n\t\t\t\t\t// added to demo only so changes are made visually in the dom\r\n\t\t\t\t\t// for users inspecting it. Because of how FocusPoint uses .data()\r\n\t\t\t\t\t// only the .data() assignments that follow are necessary.\r\n\t\t\t\t\t/*-----------------------------------------*/\r\n\t\t\t\t\t$focusPointContainers.attr({\r\n\t\t\t\t\t\t'data-focus-x':focusPointAttr.x,\r\n\t\t\t\t\t\t'data-focus-y':focusPointAttr.y,\r\n\t\t\t\t\t\t'data-image-w': focusPointAttr.w,\r\n\t\t\t\t\t\t'data-image-h': focusPointAttr.h\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/*-----------------------------------------*/\r\n\t\t\t\t\t// These assignments using .data() are what counts.\r\n\t\t\t\t\t/*-----------------------------------------*/\r\n\t\t\t\t\t$focusPointContainers.data('focusX', focusPointAttr.x);\r\n\t\t\t\t\t$focusPointContainers.data('focusY', focusPointAttr.y);\r\n\t\t\t\t\t$focusPointContainers.data('imageW', focusPointAttr.w);\r\n\t\t\t\t\t$focusPointContainers.data('imageH', focusPointAttr.h);\r\n\r\n\t\t\t\t\t//Run FocusPoint for the first time.\r\n\t\t\t\t\t$('.focuspoint').focusPoint();\r\n\r\n\t\t\t\t\t//Update the data attributes shown to the user\r\n\t\t\t\t\tprintDataAttr();\r\n\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t/*-----------------------------------------*/\r\n\r\n\t\t// Update the data attributes shown to the user\r\n\r\n\t\t/*-----------------------------------------*/\r\n\r\n\t\tfunction printDataAttr(){\r\n\t\t\t$dataAttrInput.val(\"['x' => '\"+focusPointAttr.x.toFixed(2)+\"','y' => '\"+focusPointAttr.y.toFixed(2)+\"']\");\r\n\t\t}\r\n\r\n\t\t/*-----------------------------------------*/\r\n\r\n\t\t// Bind to helper image click event\r\n\t\t// Adjust focus on Click / provides focuspoint and CSS3 properties\r\n\r\n\t\t/*-----------------------------------------*/\r\n\r\n\t\t$helperToolImage.click(function(e){\r\n\r\n\t\t\tvar imageW = $(this).width();\r\n\t\t\tvar imageH = $(this).height();\r\n\r\n\t\t\t//Calculate FocusPoint coordinates\r\n\t\t\tvar offsetX = e.pageX - $(this).offset().left;\r\n\t\t\tvar offsetY = e.pageY - $(this).offset().top;\r\n\t\t\tvar focusX = (offsetX/imageW - .5)*2;\r\n\t\t\tvar focusY = (offsetY/imageH - .5)*-2;\r\n\t\t\tfocusPointAttr.x = focusX;\r\n\t\t\tfocusPointAttr.y = focusY;\r\n\r\n\t\t\t//Write values to input\r\n\t\t\tprintDataAttr();\r\n\r\n\t\t\t//Update focus point\r\n\t\t\tupdateFocusPoint();\r\n\r\n      //Calculate CSS Percentages\r\n\t\t\tvar percentageX = (offsetX/imageW)*100;\r\n\t\t\tvar percentageY = (offsetY/imageH)*100;\r\n\r\n\t\t\t//Leave a sweet target reticle at the focus point.\r\n\t\t\t$('.reticle').css({\r\n\t\t\t\t'top':percentageY+'%',\r\n\t\t\t\t'left':percentageX+'%'\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t/*-----------------------------------------*/\r\n\r\n\t\t// Change image on paste/blur\r\n\t\t// When you paste an image into the specified input, it will be used for the demo\r\n\r\n\t\t/*-----------------------------------------*/\r\n\r\n\t\t$('#set-src').on('change', function(e){\r\n\t\t  var element = this;\r\n\t\t  setTimeout(function () {\r\n\t\t    var text = $(element).val();\r\n\t\t\t\tsetImage(text);\r\n\t\t  }, 100);\r\n\t\t});\r\n\r\n\t\t/*-----------------------------------------*/\r\n\r\n\t\t/* Update Helper */\r\n\t\t// This function is used to update the focuspoint\r\n\r\n\t\t/*-----------------------------------------*/\r\n\r\n\t\tfunction updateFocusPoint(){\r\n\t\t\t/*-----------------------------------------*/\r\n\t\t\t// See note in setImage() function regarding these attribute assignments.\r\n\t\t\t//TLDR - You don't need them for this to work.\r\n\t\t\t/*-----------------------------------------*/\r\n\t\t\t$focusPointContainers.attr({\r\n\t\t\t\t'data-focus-x': focusPointAttr.x,\r\n\t\t\t\t'data-focus-y': focusPointAttr.y\r\n\t\t\t});\r\n\t\t\t/*-----------------------------------------*/\r\n\t\t\t// These you DO need :)\r\n\t\t\t/*-----------------------------------------*/\r\n\t\t\t$focusPointContainers.data('focusX', focusPointAttr.x);\r\n\t\t\t$focusPointContainers.data('focusY', focusPointAttr.y);\r\n\t\t\t$focusPointContainers.adjustFocus();\r\n\t\t};\r\n\t});\r\n}(jQuery));\r\n","!function(t){t(document).ready(function(){function a(a){t(\"<img/>\").attr(\"src\",a).on(\"load\",function(){u.w=this.width,u.h=this.height,r.attr(\"src\",a),f.attr(\"src\",a),c.attr({\"data-focus-x\":u.x,\"data-focus-y\":u.y,\"data-image-w\":u.w,\"data-image-h\":u.h}),c.data(\"focusX\",u.x),c.data(\"focusY\",u.y),c.data(\"imageW\",u.w),c.data(\"imageH\",u.h),t(\".focuspoint\").focusPoint(),o()})}function o(){e.val(\"['x' => '\"+u.x.toFixed(2)+\"','y' => '\"+u.y.toFixed(2)+\"']\")}var i,e,s,c,f,r,u={x:0,y:0,w:0,h:0};!function(){i=\"src/prototype-utilities/images/focuspoint-helper/default.jpg\",e=t(\".helper-tool-data-attr\"),s=t(\".helper-tool-css3-val\"),r=t(\"img.helper-tool-img, img.target-overlay\");for(var o=1;o<10;o++)t(\"#Frames\").append('<div id=\"Frame'+o+'\" class=\"focuspoint\"><img/></div>');c=t(\".focuspoint\"),f=t(\".focuspoint img\"),a(i)}(),r.click(function(a){var i=t(this).width(),e=t(this).height(),s=a.pageX-t(this).offset().left,f=a.pageY-t(this).offset().top,r=2*(s/i-.5),n=-2*(f/e-.5);u.x=r,u.y=n,o(),c.attr({\"data-focus-x\":u.x,\"data-focus-y\":u.y}),c.data(\"focusX\",u.x),c.data(\"focusY\",u.y),c.adjustFocus();var d=s/i*100,h=f/e*100;t(\".reticle\").css({top:h+\"%\",left:d+\"%\"})}),t(\"#set-src\").on(\"change\",function(o){var i=this;setTimeout(function(){a(t(i).val())},100)})})}(jQuery),function(t){t(document).ready(function(){function a(a){t(\"<img/>\").attr(\"src\",a).on(\"load\",function(){u.w=this.width,u.h=this.height,r.attr(\"src\",a),f.attr(\"src\",a),c.attr({\"data-focus-x\":u.x,\"data-focus-y\":u.y,\"data-image-w\":u.w,\"data-image-h\":u.h}),c.data(\"focusX\",u.x),c.data(\"focusY\",u.y),c.data(\"imageW\",u.w),c.data(\"imageH\",u.h),t(\"fp-helper .focuspoint\").focusPoint(),o()})}function o(){e.val(\"['x' => '\"+u.x.toFixed(2)+\"','y' => '\"+u.y.toFixed(2)+\"']\")}var i,e,s,c,f,r,u={x:0,y:0,w:0,h:0};!function(){i=\"src/dist/images/focuspoint-helper/default.jpg\",e=t(\".helper-tool-data-attr\"),s=t(\".helper-tool-css3-val\"),r=t(\"img.helper-tool-img, img.target-overlay\");for(var o=1;o<10;o++)t(\"#Frames\").append('<div id=\"Frame'+o+'\" class=\"focuspoint\"><img/></div>');c=t(\"fp-helper .focuspoint\"),f=t(\"fp-helper .focuspoint img\"),a(i)}(),r.click(function(a){var i=t(this).width(),e=t(this).height(),s=a.pageX-t(this).offset().left,f=a.pageY-t(this).offset().top,r=2*(s/i-.5),n=-2*(f/e-.5);u.x=r,u.y=n,o(),c.attr({\"data-focus-x\":u.x,\"data-focus-y\":u.y}),c.data(\"focusX\",u.x),c.data(\"focusY\",u.y),c.adjustFocus();var d=s/i*100,h=f/e*100;t(\".reticle\").css({top:h+\"%\",left:d+\"%\"})}),t(\"fp-helper #set-src\").on(\"change\",function(o){var i=this;setTimeout(function(){a(t(i).val())},100)})})}(jQuery);\n//# sourceMappingURL=maps/ptypeUtilities.min.js.map\n"]}